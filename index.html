<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genişletilmiş Güvenlik Bilinci Sınavı</title>
    <style>
        :root {
            --primary-color: #0056b3;
            --background-color: #f0f2f5;
            --card-color: #ffffff;
            --text-color: #333;
            --border-radius: 12px;
            --success-color: #28a745;
            --error-color: #dc3545;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: var(--text-color);
        }

        .quiz-container {
            background-color: var(--card-color);
            width: 100%;
            max-width: 800px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin: 20px;
            position: relative;
        }

        /* Header Area */
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
        }

        .question-counter {
            font-weight: bold;
            font-size: 1.1em;
        }

        .auto-advance-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9em;
            color: #666;
        }

        /* Toggle Switch */
        .switch {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 22px;
        }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider { background-color: var(--primary-color); }
        input:checked + .slider:before { transform: translateX(18px); }

        /* Question Area */
        .question-text {
            font-size: 1.25em;
            margin-bottom: 25px;
            font-weight: 600;
            line-height: 1.4;
        }

        .options-list {
            list-style: none;
            padding: 0;
        }

        .option-item {
            background-color: #fff;
            border: 2px solid #e0e0e0;
            padding: 15px;
            margin-bottom: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .option-item:hover {
            border-color: var(--primary-color);
            background-color: #f8faff;
        }

        .option-item.selected {
            border-color: var(--primary-color);
            background-color: #e6f0ff;
        }

        .option-item.correct {
            border-color: var(--success-color);
            background-color: #d4edda;
            color: #155724;
        }

        .option-item.wrong {
            border-color: var(--error-color);
            background-color: #f8d7da;
            color: #721c24;
        }

        /* Navigation Buttons */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: background 0.2s;
        }

        .btn-prev {
            background-color: #e0e0e0;
            color: #555;
        }
        .btn-prev:hover { background-color: #d0d0d0; }

        .btn-next {
            background-color: var(--primary-color);
            color: white;
        }
        .btn-next:hover { background-color: #004494; }

        /* Quick Access Grid */
        .quick-access {
            margin-top: 40px;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
        .quick-access-title {
            text-align: center;
            font-size: 0.9em;
            color: #777;
            margin-bottom: 10px;
        }
        .pagination-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(35px, 1fr));
            gap: 8px;
            max-height: 150px;
            overflow-y: auto;
        }
        .page-dot {
            height: 35px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #eee;
            border-radius: 4px;
            font-size: 0.85em;
            cursor: pointer;
            color: #555;
        }
        .page-dot.active {
            border: 2px solid var(--primary-color);
            font-weight: bold;
        }
        .page-dot.completed {
            background-color: #e2e6ea;
            color: var(--primary-color);
        }
        .page-dot.correct-mark { background-color: var(--success-color); color: white; }
        .page-dot.wrong-mark { background-color: var(--error-color); color: white; }

        /* Results Section */
        .result-screen {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }
        .score-circle {
            width: 150px;
            height: 150px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 0 auto 20px;
        }
        .score-circle span { font-size: 2.5em; font-weight: bold; }
        .score-label { font-size: 0.9em; opacity: 0.9; }
        .result-msg { font-size: 1.5em; margin-bottom: 30px; color: #444; }

    </style>
</head>
<body>

<div class="quiz-container">
    <div id="quiz-screen">
        <div class="quiz-header">
            <div class="question-counter">Soru: <span id="current-q-num">1</span>/<span id="total-q-num">55</span></div>
            <div class="auto-advance-wrapper">
                <span>Doğruysa Otomatik Geç</span>
                <label class="switch">
                    <input type="checkbox" id="auto-advance" checked>
                    <span class="slider"></span>
                </label>
            </div>
        </div>

        <div class="question-text" id="question-text">
            Sorular yükleniyor...
        </div>

        <ul class="options-list" id="options-container">
            </ul>

        <div class="navigation-buttons">
            <button class="btn btn-prev" id="btn-prev" onclick="prevQuestion()">← Önceki</button>
            <button class="btn btn-next" id="btn-next" onclick="nextQuestion()">Sonraki Soru →</button>
        </div>

        <div class="quick-access">
            <div class="quick-access-title">Hızlı Erişim</div>
            <div class="pagination-grid" id="pagination-grid">
                </div>
        </div>
    </div>

    <div id="result-screen" class="result-screen">
        <div class="score-circle">
            <span id="final-score">%0</span>
            <div class="score-label">BAŞARI</div>
        </div>
        <div class="result-msg" id="result-message">Çalışmaya ihtiyacın var.</div>
        <p id="stats-text"></p>
        <button class="btn btn-next" onclick="restartQuiz()">Tüm Testi Yeniden Başlat (Karışık)</button>
    </div>
</div>

<script>
    // Tüm Soruların Veritabanı (Önceki Sorular + Yeni Eklenenler)
    const questionsData = [
        // --- ÖNCEKİ SORULAR ---
        {
            q: "Aşağıdakilerden hangisi havacılığın teröristlerce cazip bulunmasının sebeplerinden biri değildir?",
            options: ["Kamuoyu ilgisinin çok olması", "Hızlı ve etkili propaganda imkanı sağlaması", "Elit tabakalar tarafından tercih edilmesi", "Can ve mal kaybının kayda değer olması", "Müdahale imkanının çok kısıtlı olması"],
            a: 2 // C
        },
        {
            q: "Risk ile ilgili aşağıdakilerden hangisi doğrudur? (Risk: Tehdit x Zafiyet)",
            options: ["Teröristlerin saldırı ihtimalini gösterir (Tehdit)", "Hedefin zayıflıklarıdır (Zafiyet)", "Bir saldırının düzenlenmesinin ve başarılı olmasının ihtimalidir", "Önleyici tedbirler ile sıfırlanabilir", "Teröristlerin saldırı gücüdür"],
            a: 2 // C
        },
        {
            q: "Zafiyetin tanımı aşağıdakilerin hangisinde doğru olarak verilmiştir?",
            options: ["Saldırı olasılığı ölçütüdür", "Saldırıya kalkışılma ihtimalidir", "Hedefin kötü amaçlarla kullanılabilecek özellikleridir", "Güvenliği sağlayan faaliyetlerdir", "Yasadışı müdahalenin olmamasıdır"],
            a: 2 // C
        },
        {
            q: "Aşağıdakilerden hangisi ya da hangileri yasadışı eylemlere örnek olarak gösterilebilir?<br>I. Rehine alma<br>II. Emniyeti tehlikeye atma<br>III. Siber saldırılar",
            options: ["Yalnız I", "Yalnız II", "I ve III", "I, II, III", "II ve III"],
            a: 3 // D
        },
        {
            q: "Aşağıdakilerden hangisi potansiyel tehlike arz eden yolcudur?<br>I. Deporte yolcular<br>II. INAD yolcular<br>III. Hukuki işleme maruz kişiler",
            options: ["Yalnız I", "Yalnız II", "I ve II", "I, II, III", "I ve III"],
            a: 3 // D
        },
        {
            q: "ICAO tarafından hazırlanan, sivil havacılık güvenliğiyle ilgili en iyi uygulamaları ve detaylı prosedürleri içeren Güvenlik El Kitabı hangisidir?",
            options: ["Doc. 30", "Doc. 8973", "Ek-9", "Ek-17", "Ek-6"],
            a: 1 // B
        },
        {
            q: "Doc.8973 için aşağıdakilerden hangisi doğrudur?",
            options: ["Uygulanması zorunludur", "Tüm düzenlemeleri içerir", "Detaylı tavsiyeler ve uygulama yöntemleri içerir", "Kısa ve öz yazılmıştır", "Tokyo Sözleşmesi ekidir"],
            a: 2 // C
        },
        {
            q: "ECAC'ın 'Havacılık Güvenliği Alanında Politika Beyanı' dokümanının kısa adı nedir?",
            options: ["Doc 30 Kısım II", "Doc 8973", "Ek-9", "Ek-17", "Ek-6"],
            a: 0 // A
        },
        {
            q: "Ulusal Sivil Havacılık Güvenlik Programı (MSHGP) ile ilgili hangisi doğru DEĞİLDİR?",
            options: ["Uygulanması zorunlu değildir", "Yazılı bir belge olmalıdır", "Güvenlik tedbirlerini içerir", "Tüm kurumları kapsar", "Yerli/Yabancı işletmeleri kapsar"],
            a: 0 // A
        },
        {
            q: "Havaalanı güvenlik programı için hangileri doğrudur?<br>I. Zorunludur<br>II. Havaalanına özgü olmalıdır<br>III. Ulusal programla uyumlu olmalıdır",
            options: ["I, II ve III", "I ve II", "Yalnız II", "Yalnız III", "II ve III"],
            a: 0 // A
        },
        {
            q: "Uluslararası Sivil Havacılık Teşkilatı (ICAO) kaç üye ülkeden oluşmaktadır?",
            options: ["185", "183", "193", "195", "190"],
            a: 2 // C
        },
        {
            q: "ICAO Konseyi'ne üye olan devletler kaç yıllığına seçilmektedir?",
            options: ["1", "3", "5", "7", "10"],
            a: 1 // B
        },
        {
            q: "Aşağıdakilerden hangisi ECAC güvenlik organizasyonu birimleri arasında yer alır?",
            options: ["Güvenlik Forumu ve Yönetim Grubu (Genel ECAC Yapısı)", "Sadece Komisyon", "Sadece İrtibat Bürosu", "Hiçbiri", "Hepsi"],
            a: 0 // A
        },
        {
            q: "Aşağıdakilerden hangisi Ulusal Güvenlik Denetçisinin görevi DEĞİLDİR?",
            options: ["Uyumluluğu izlemek", "Eksiklikleri tespit etmek", "Düzeltme sağlamak", "Güvenlik Komisyonu üyeliği yapmak (Karar verici olmak)", "Test yapmak"],
            a: 3 // D
        },
        {
            q: "Ulusal yapılanmada bulunması gereken organlar arasında hangisi EK-17'de ana başlık olarak sayılmaz?",
            options: ["Yetkili Otorite", "Ulusal Güvenlik Komisyonu", "Havaalanı Güvenlik Komisyonu", "Eğitim Araştırma Birimi", "Yerel Otorite"],
            a: 3 // D
        },
        {
            q: "Havaalanının hangi alanına geçişlerde giriş kontrolü uygulanmaz?",
            options: ["Kara tarafı", "Hava tarafı", "Güvenlik tahditli alan", "Kritik bölüm", "Demarke alan"],
            a: 0 // A
        },
        {
            q: "Araç giriş izinleri ile ilgili hangisi doğrudur?<br>II. Geçerli izinle girilir<br>III. Eşleşme kontrol edilir<br>V. Belge görünür olmalıdır",
            options: ["I, II, III", "II, III, V", "III, IV, V", "I, IV, V", "I, II, IV"],
            a: 1 // B
        },
        {
            q: "Yolcu dışındaki kişilerin taranmasının temel amacı nedir?",
            options: ["Giriş kontrolü", "Çalıştığını kanıtlama", "Gereksiz girişi önleme", "Risk analizi", "Patlayıcı/Yasaklı madde tespiti"],
            a: 4 // E
        },
        {
            q: "Kişilerin taranması için kullanılan cihaz/yöntem hangisidir?",
            options: ["Elle arama (Yöntem)", "Patlayıcı İz Tespit Cihazı (ETD)", "Görsel kontrol", "X-ray (Eşya için)", "Sıvı dedektörü"],
            a: 1 // B
        },
        {
            q: "Giriş kartlarıyla ilgili hangisi YANLIŞTIR?",
            options: ["Üniforma giriş yetkisi vermez", "Sadece tanzim edildiği yerde geçerlidir", "Kurumun/Kuruluşun herhangi bir sorumluluğu bulunmamaktadır", "İşveren değişirse iade edilir", "Farklı şekillerde (Daimi/Geçici) düzenlenebilir"],
            a: 2 // C
        },
        {
            q: "Şüpheli paket tespitinde aşağıdakilerden hangisi YAPILMAMALIDIR?",
            options: ["Emniyet hattı oluşturmak", "Tahliye etmek", "Panik yapmamak", "Bilgi toplamak", "Üzerini örtmek veya dokunmak"],
            a: 4 // E
        },
        {
            q: "Aşağıdakilerden hangisi ŞÜPHELİ bir durum DEĞİLDİR?",
            options: ["Bagaj yükleme görevlisinin apronda bulunması", "Plakasız araç", "Sahipsiz bagaj", "Kartsız personel", "GTA'da sahipsiz çanta"],
            a: 0 // A
        },
        {
            q: "Havacılık güvenliğine yönelik şüpheli durumları bildirmek kimin görevidir?",
            options: ["Herkesin (Özel güvenlik, Temizlik, Yer hizmetleri, Havayolu, Polis)", "Sadece Polis", "Sadece Güvenlik", "Yöneticilerin", "Pilotların"],
            a: 0 // A
        },
        {
            q: "Şüpheli durum raporlamaya ilişkin hangisi YANLIŞTIR?",
            options: ["Mutlaka yazılı yapılmalıdır (Sözlü de olabilir)", "Otoriteye bildirilir", "Güvenlik birimine bildirilir", "Tüm personelin görevidir", "Acil durum içerir"],
            a: 0 // A
        },
        {
            q: "Olay raporlamada bulunması gereken özelliklerden hangisi YANLIŞTIR?",
            options: ["Olayın sebebine ilişkin şahsi görüşler belirtilmelidir", "Kronolojik olmalıdır", "Net olmalıdır", "Yer belirtilmelidir", "Objektif olmalıdır"],
            a: 0 // A
        },
        {
            q: "Aşağıdakilerden hangisi güvenlik kültürünün unsurlarından değildir?",
            options: ["Normlar", "İnançlar", "Değerler", "Tutumlar", "Şüpheler"],
            a: 4 // E
        },
        {
            q: "Yöneticilerin güvenlik kültürü kapsamında yapmaması gereken davranış hangisidir?",
            options: ["Örnek olmak", "Teşvik etmek", "Eğitimi desteklemek", "Olayları takip etmek", "Ekonomik krizde güvenliği yük olarak görmek"],
            a: 4 // E
        },
        {
            q: "Hangisi ZAYIF güvenlik kültürü göstergesi DEĞİLDİR?",
            options: ["Raporlama kanallarının güvenilir olması (Bu güçlü kültürdür)", "Düşük raporlama", "Personelin bilgisizliği", "Güvenliğin yük görülmesi", "Ders alınmaması"],
            a: 0 // A
        },
        {
            q: "Kurumların uygulayacağı güvenlik kültürü faaliyeti olmayan hangisidir?",
            options: ["Yasama (Devlet görevi)", "Koordinasyon", "İç iletişim", "Kampanyalar", "Farkındalık eğitimi"],
            a: 0 // A
        },
        {
            q: "Etkili güvenlik kültürünün faydalarından olmayan hangisidir?",
            options: ["Güvenlik riskinin artması (Risk azalır)", "Sorumluluk alma", "Bildirme olasılığının artması", "Harcamasız gelişim", "Uyumun artması"],
            a: 0 // A
        },

        // --- YENİ EKLENEN SORULAR ---

        // 1) Yasadışı Müdahale
        {
            q: "I) Hava aracının yasadışı olarak ele geçirilmesi<br>II) Hizmetteki hava aracına zarar verilmesi<br>III) Rehin alınma<br>IV) İzinsiz giriş<br>V) Silah/tehlikeli madde sokulması<br>Yukarıdakilerden hangisi/hangileri yasadışı müdahale eylemleri arasında yer alır?",
            options: ["I, II, III ve IV", "I, III ve IV", "II, III ve IV", "I, II ve III", "I, II, III, IV ve V"],
            a: 4 // E
        },
        // 2) İç Tehdit
        {
            q: "“……… havacılık sektöründe çalışan bir kişinin farklı motivasyonlarla bir terör örgütüne yardımcı olmasıdır.” Boş bırakılan alana hangisi gelmelidir?",
            options: ["Potansiyel tehlike arz eden yolcu", "İç tehdit", "Sınır dışı edilen kişiler", "İHA", "Kural dışı yolcu"],
            a: 1 // B
        },
        // 3) Tehdit Değildir
        {
            q: "Aşağıdakilerden hangisi havacılık güvenliğine yönelik tehditlerden değildir?",
            options: ["Arıza", "Taşınabilir Hava Savunma Sistemi (MANPADS)", "El Yapımı Patlayıcılar", "Sabotaj", "Siber Saldırılar"],
            a: 0 // A
        },
        // 4) Kural Dışı Yolcu
        {
            q: "Bir havaalanında ya da hava aracında kurallara uymayarak veya personelin talimatlarına uymayarak düzen ve disiplini bozan kişilere ne ad verilir?",
            options: ["Kural dışı yolcu", "Kabul edilmez yolcu", "Sınır dışı edilen kişiler", "Akli dengesi bozuk yolcu", "Hukuki işleme maruz kişi"],
            a: 0 // A
        },
        // 5) Bireysel Tehdit Özelliği
        {
            q: "Bireylerin hareket ettikleri için ne tür bir eylem gerçekleştireceklerinin ve bir sonraki hareketlerinin tahmin edilmesinin zor olması, bireysel tehditlerin hangi özelliği ile ilişkilidir?",
            options: ["Kısıtlı kaynak", "Kısıtlı teknik uzmanlık", "Öngörülemezlik", "Kişisellik", "Şüpheli davranış"],
            a: 2 // C
        },
        // 6) USHGP Doğrudur
        {
            q: "I) Oluşturulması ve uygulanması zorunludur<br>II) Yazılı bir belge olması gerekir<br>III) Önlemleri içerir<br>IV) Sorumlu bir yetkili otorite belirlenir<br>Yukarıdakilerden hangisi/hangileri Ulusal Sivil Havacılık Güvenlik Programı için doğrudur?",
            options: ["II, III ve IV", "I, II ve III", "I, II, III ve IV", "Yalnız I", "II ve III"],
            a: 2 // C
        },
        // 7) Ek-17 Özelliği
        {
            q: "ICAO Ek-17 Güvenlik düzenlemesi için aşağıdakilerden hangisi doğrudur?",
            options: ["Çok detaylı ve kapsamlıdır", "Tüm sivil havacılık düzenlemelerini içerir", "Uygulama detaylarına dair ayrıntılı tavsiyeler içerir", "Oldukça kısa ve öz bir şekilde kaleme alınmıştır", "Tokyo Sözleşmesi’ne ek olarak düzenlenmiştir"],
            a: 3 // D
        },
        // 8) Program Amacı
        {
            q: "Aşağıdakilerden hangisinin temel amacı; halkın, yolcuların, personelin ve tesislerin korunmasını sağlamak ve görev-yetki-sorumlulukları düzenlemektir?",
            options: ["Ulusal Sivil Havacılık Güvenlik Programı", "Ulusal Sivil Havacılık Güvenlik Eğitim Programı", "Havayolu Emniyet Programı", "Havayolu Güvenlik Programı", "Ulusal Sivil Havacılık Emniyet Programı"],
            a: 0 // A
        },
        // 9) MEX Sözleşmesi
        {
            q: "Hangi sözleşme, sivil havacılığa karşı patlayıcı düzeneklerinin kullanılmasını kapsamaktadır?",
            options: ["Plastik Patlayıcıların İşaretlenmesine Dair Sözleşme (MEX)", "Tokyo Sözleşmesi", "Lahey Sözleşmesi", "Şikago Sözleşmesi", "Montreal Sözleşmesi"],
            a: 0 // A
        },
        // 10) Tokyo Sözleşmesi
        {
            q: "Hangi sözleşme, uçaktaki düzeni veya disiplini bozan eylemlerde hava aracından sorumlu kişilere yetki vermektedir?",
            options: ["Şikago Sözleşmesi", "Tokyo Sözleşmesi (Suçlar ve Diğer Bazı Eylemler)", "Lahey Sözleşmesi", "Montreal Sözleşmesi", "MEX Sözleşmesi"],
            a: 1 // B
        },
        // 11) Komite Görevi Değildir
        {
            q: "Aşağıdakilerden hangisi Ulusal Sivil Havacılık Güvenlik Komitesi’nin görevlerinden değildir?",
            options: ["Tavsiyelerde bulunmak", "Koordinasyonu sağlamak", "Tasarımda güvenliği teşvik etmek", "Uluslararası işbirliği yollarını düşünmek", "Havalimanlarında denetim, test ve inceleme yapmak"],
            a: 4 // E
        },
        // 12) Ulusal Yapılanma (En Az)
        {
            q: "I) Yetkili Otorite<br>II) Havaalanı Güvenlik Komisyonu<br>III) Yerel Otorite<br>IV) Eğitim Birimi<br>Şikago Sözleşmesi Ek-17’ye göre ulusal yapılanma yukarıdakilerden en az hangisini/hangilerini içermelidir?",
            options: ["I, II ve III", "I, II, III ve IV", "I ve IV", "Yalnız I", "II ve IV"],
            a: 0 // A
        },
        // 13) Ulusal Yapılanma Yeri
        {
            q: "Havacılık güvenliği alanında ulusal yapılanmanın nasıl oluşturulması gerektiği aşağıdakilerden hangisinde düzenlenmiştir?",
            options: ["Şikago Sözleşmesi Ek-17, Bölüm 3", "Şikago Sözleşmesi Ek-14, Bölüm 5", "Şikago Sözleşmesi Ek-15, Bölüm 7", "Şikago Sözleşmesi Ek-14, Bölüm 9", "Şikago Sözleşmesi Ek-15, Bölüm 8"],
            a: 0 // A
        },
        // 14) Yetkili Otorite
        {
            q: "Ulusal Sivil Havacılık Güvenlik Programı’nın geliştirilmesi, uygulanması ve devamlılığından sorumlu olan kuruluş hangisidir?",
            options: ["Ulusal Güvenlik Teşkilatı", "Yetkili Otorite", "Ulusal Havacılık Güvenliği Komitesi", "Ulusal Güvenlik Denetçisi", "Havaalanı Güvenlik Komisyonu"],
            a: 1 // B
        },
        // 15) Havaalanı Komisyonu
        {
            q: "Ulusal havacılık güvenliği yapılanmasında yer alan havaalanı güvenlik komisyonu ile ilgili olarak aşağıdakilerden hangisi doğrudur?",
            options: ["Her havaalanı için ayrı ayrı kurulur ve yerel düzeyde faaliyet gösterir", "Sadece uluslararası havaalanlarında kurulur", "Görevleri sadece yolcu güvenliği ile sınırlıdır", "Havaalanı güvenlik otoritesine doğrudan bağlı çalışır", "Teknik bakım ve uçuş planlamasından sorumludur"],
            a: 0 // A
        },
        // 16) Araç Giriş İzni
        {
            q: "I) Araç giriş izni araca özel olmalıdır<br>II) İzin belgesinde alanlar yer almalıdır<br>III) Son kullanma tarihi yazılmalıdır<br>IV) Şoför bilgileri yer almalıdır<br>Araç giriş izni ile ilgili hangileri doğrudur?",
            options: ["I, II, III ve IV", "I, II ve III", "II, III ve IV", "Yalnız II", "II ve III"],
            a: 1 // B
        },
        // 17) GTA
        {
            q: "Geçerli bir giriş belgesiyle ve güvenlik kontrolü yapılarak giriş sağlanan alanlara ne ad verilir?",
            options: ["Hava tarafı", "Kara tarafı", "Kontuar alanı", "Güvenlik tahditli alan", "Demarke alan"],
            a: 3 // D
        },
        // 18) Kart Sahibi Kuralı
        {
            q: "Aşağıdakilerden hangisi giriş kartı sahibi personelin uyması gereken kurallardan değildir?",
            options: ["Kartı sadece izin verilen alanlar için kullanmak", "Kartı başkasına vermemek", "Güvenlik kontrolüne izin vermek", "Görevli oldukları alanlara izinsiz misafir veya ziyaretçi kabul etmek", "Taramaya tabi olmak"],
            a: 3 // D
        },
        // 19) Hava Tarafı
        {
            q: "Havaalanında herkesin giriş yapamadığı, sadece yolcunun ve yetkili personelin giriş yapabildiği, “giriş kontrolü” yapılan noktadan sonraki kısımlara ne ad verilir?",
            options: ["Güvenlik tahditli alan", "Kara tarafı", "Hava tarafı", "Check-in salonu", "Demarke alan"],
            a: 2 // C
        },
        // 20) Giriş Kontrol
        {
            q: "Hava tarafı ve güvenlik tahditli alanlara yetkisiz kişilerin ve araçların girişinin önlenmesi amacıyla yapılan yetki kontrolüne ne denir?",
            options: ["Güvenlik kontrolü", "Giriş kontrol", "Tarama", "Giriş kısıtlaması", "Yetkisiz giriş"],
            a: 1 // B
        },
        // 21) Fayda Değildir (Harcama)
        {
            q: "Aşağıdakilerden hangisi etkili güvenlik kültürünün faydaları arasında gösterilemez?",
            options: ["Çalışanlar sorumluluk alır", "Uyum seviyeleri artar", "Bildirme olasılığı yükselir", "Daha büyük güvenlik duygusu sağlanır", "Güvenliğin, büyük harcamalar yapılarak sağlanması"],
            a: 4 // E
        },
        // 22) Kampanyalar
        {
            q: "I) El ilanları/posterler<br>II) E-öğrenme<br>III) İntranet/video<br>IV) Dijital medya<br>Hangisi güvenlik kültürünü geliştirmek için yapılacak kampanyalardandır?",
            options: ["Yalnız III", "I, II ve III", "I ve III", "III ve IV", "I, II, III ve IV"],
            a: 4 // E
        },
        // 23) Zayıf Güvenlik Kültürü
        {
            q: "Havacılık çalışanlarının güvenlik ve tehditler hakkında bilgi sahibi olmaması ya da bilinçli olmaması durumu nedir?",
            options: ["Temel sivil havacılık güvenliği", "Güvenli tedarik zinciri", "Güvenlik bilinci", "İlave güvenlik tedbiri", "Zayıf güvenlik kültürü"],
            a: 4 // E
        },
        // 24) Fayda Değildir (Risk Artışı)
        {
            q: "Aşağıdakilerden hangisi etkili bir güvenlik kültürünün faydalarından değildir?",
            options: ["Güvenlik olaylarının yaşanma riski, çalışanların bilinçlenmesiyle ARTAR", "Çalışanlar sorumluluk alır", "Şüpheli davranışları bildirme artar", "Büyük harcamasız geliştirilir", "Uyum seviyeleri artar"],
            a: 0 // A
        },
        // 25) Sorumluluk Değildir
        {
            q: "Aşağıdakilerden hangisi yöneticilerin sorumluluklarından değildir?",
            options: ["Geri bildirimi teşvik etmek", "Kurallara uymak ve örnek olmak", "Önlemleri teşvik etmek", "Ekonomik sıkıntı dönemlerinde havacılık güvenliğinden taviz vermek", "Güvenliği temel değer haline getirmek"],
            a: 3 // D
        }
    ];

    let currentQuestions = [];
    let currentQuestionIndex = 0;
    let userAnswers = [];
    let score = 0;

    // DOM Elementleri
    const qNumEl = document.getElementById("current-q-num");
    const totalQNumEl = document.getElementById("total-q-num");
    const qTextEl = document.getElementById("question-text");
    const optionsContainer = document.getElementById("options-container");
    const prevBtn = document.getElementById("btn-prev");
    const nextBtn = document.getElementById("btn-next");
    const gridContainer = document.getElementById("pagination-grid");
    const quizScreen = document.getElementById("quiz-screen");
    const resultScreen = document.getElementById("result-screen");
    const finalScoreEl = document.getElementById("final-score");
    const resultMsgEl = document.getElementById("result-message");
    const statsTextEl = document.getElementById("stats-text");
    const autoAdvanceToggle = document.getElementById("auto-advance");

    function initQuiz() {
        // Soruları karıştırmak isterseniz alttaki satırı açabilirsiniz
        // currentQuestions = [...questionsData].sort(() => Math.random() - 0.5); 
        currentQuestions = [...questionsData];
        
        userAnswers = new Array(currentQuestions.length).fill(null);
        currentQuestionIndex = 0;
        score = 0;

        totalQNumEl.textContent = currentQuestions.length;
        
        quizScreen.style.display = "block";
        resultScreen.style.display = "none";

        createPaginationGrid();
        loadQuestion(0);
    }

    function loadQuestion(index) {
        if (index < 0 || index >= currentQuestions.length) return;
        currentQuestionIndex = index;

        const q = currentQuestions[index];
        qNumEl.textContent = index + 1;
        qTextEl.innerHTML = q.q;

        optionsContainer.innerHTML = "";
        q.options.forEach((opt, i) => {
            const li = document.createElement("li");
            li.className = "option-item";
            li.innerHTML = opt; // HTML etiketlerini (örn: <br>) işleyebilmesi için innerHTML
            
            const savedAnswer = userAnswers[index];
            if (savedAnswer !== null) {
                if (i === q.a) {
                    li.classList.add("correct");
                } else if (i === savedAnswer) {
                    li.classList.add("wrong");
                }
                li.style.cursor = "default";
            } else {
                li.onclick = () => selectOption(i, li);
            }

            optionsContainer.appendChild(li);
        });

        updateButtons();
        updatePaginationGrid();
    }

    function selectOption(selectedIndex, element) {
        if (userAnswers[currentQuestionIndex] !== null) return;

        const correctIndex = currentQuestions[currentQuestionIndex].a;
        userAnswers[currentQuestionIndex] = selectedIndex;

        const options = optionsContainer.children;
        
        if (selectedIndex === correctIndex) {
            element.classList.add("correct");
            if (autoAdvanceToggle.checked) {
                setTimeout(() => {
                    if (currentQuestionIndex < currentQuestions.length - 1) {
                        nextQuestion();
                    }
                }, 700);
            }
        } else {
            element.classList.add("wrong");
            options[correctIndex].classList.add("correct");
        }

        updatePaginationGrid();
    }

    function nextQuestion() {
        if (currentQuestionIndex < currentQuestions.length - 1) {
            loadQuestion(currentQuestionIndex + 1);
        } else {
            finishQuiz();
        }
    }

    function prevQuestion() {
        if (currentQuestionIndex > 0) {
            loadQuestion(currentQuestionIndex - 1);
        }
    }

    function updateButtons() {
        prevBtn.disabled = currentQuestionIndex === 0;
        if (currentQuestionIndex === currentQuestions.length - 1) {
            nextBtn.textContent = "Testi Bitir";
        } else {
            nextBtn.textContent = "Sonraki Soru →";
        }
    }

    function createPaginationGrid() {
        gridContainer.innerHTML = "";
        currentQuestions.forEach((_, i) => {
            const dot = document.createElement("div");
            dot.className = "page-dot";
            dot.textContent = i + 1;
            dot.onclick = () => loadQuestion(i);
            gridContainer.appendChild(dot);
        });
    }

    function updatePaginationGrid() {
        const dots = gridContainer.children;
        for (let i = 0; i < dots.length; i++) {
            dots[i].className = "page-dot";
            
            if (i === currentQuestionIndex) {
                dots[i].classList.add("active");
            }

            const answer = userAnswers[i];
            if (answer !== null) {
                const isCorrect = answer === currentQuestions[i].a;
                if (isCorrect) {
                    dots[i].classList.add("correct-mark");
                } else {
                    dots[i].classList.add("wrong-mark");
                }
            }
        }
    }

    function finishQuiz() {
        let correctCount = 0;
        userAnswers.forEach((ans, i) => {
            if (ans === currentQuestions[i].a) correctCount++;
        });

        const percentage = Math.round((correctCount / currentQuestions.length) * 100);
        
        quizScreen.style.display = "none";
        resultScreen.style.display = "block";
        
        finalScoreEl.textContent = `%${percentage}`;
        
        if (percentage >= 70) {
            resultMsgEl.textContent = "Tebrikler! Başarılı oldunuz.";
            resultMsgEl.style.color = "var(--success-color)";
            finalScoreEl.parentElement.style.backgroundColor = "var(--success-color)";
        } else {
            resultMsgEl.textContent = "Çalışmaya ihtiyacın var.";
            resultMsgEl.style.color = "var(--error-color)";
            finalScoreEl.parentElement.style.backgroundColor = "var(--error-color)";
        }

        statsTextEl.textContent = `Toplam ${currentQuestions.length} sorudan ${correctCount} tanesini doğru bildiniz.`;
    }

    function restartQuiz() {
        initQuiz();
    }

    // Başlat
    initQuiz();

    // Klavye Yön Tuşları
    document.addEventListener('keydown', (e) => {
        if (e.key === "ArrowRight") nextQuestion();
        if (e.key === "ArrowLeft") prevQuestion();
    });

</script>

</body>
</html>
